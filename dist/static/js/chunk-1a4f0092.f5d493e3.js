(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a4f0092"],{"297c":function(s,t,i){"use strict";i("9386")},"377c":function(s,t,i){"use strict";i("db55")},9386:function(s,t,i){},cee4b:function(s,t,i){"use strict";var e=function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{staticClass:"songlist"},s._l(s.songList,(function(s,t){return i("songListItem",{key:s.id,attrs:{songList:s}})})),1)},n=[],o=function(){var s=this,t=s.$createElement,i=s._self._c||t;return 0!==Object.keys(s.songList).length?i("div",{staticClass:"song-list-item",on:{click:function(t){return s.listItemClick(s.songList.id)}}},[i("div",{staticClass:"imgitem",on:{mouseleave:s.hideMask,mouseenter:s.showMask}},[i("transition",{attrs:{name:"el-fade-in-linear"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:s.isShowPlay,expression:"isShowPlay"}],staticClass:"mask-playicon"},[i("span",{staticClass:"iconfont icon-play"})])]),i("transition",{attrs:{name:"el-zoom-in-top"}},[s.songList.playCount?i("div",{directives:[{name:"show",rawName:"v-show",value:s.isShowIcon,expression:"isShowIcon"}],staticClass:"mask1"},[i("span",{staticClass:"iconfont icon-yinle"}),i("span",[s._v(s._s(s._f("formatNum")(s.songList.playCount)))])]):s._e()]),i("transition",{attrs:{name:"el-zoom-in-bottom"}},[s.songList.creator?i("div",{directives:[{name:"show",rawName:"v-show",value:s.isShowIcon,expression:"isShowIcon"}],staticClass:"mask2"},[i("span",{staticClass:"iconfont"},[s._v("")]),i("span",[s._v(s._s(s.songList.creator.nickname))])]):s._e()]),i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.showImg,expression:"showImg"}],attrs:{alt:""}})],1),i("div",{staticClass:"item-text"},[i("div",[s._v(s._s(s.songList.name))])])]):s._e()},a=[],r={name:"songListItem",data:function(){return{isShowIcon:!0,isShowPlay:!1}},props:{songList:{type:Object,default:function(){return{}}}},computed:{showImg:function(){return this.songList.picUrl||this.songList.coverImgUrl}},methods:{listItemClick:function(s){this.$router.push("/songListdetail/"+s),this.isShowIcon=!0,this.isShowDetail=!1},showMask:function(){this.isShowIcon=!1,this.isShowPlay=!0},hideMask:function(){this.isShowIcon=!0,this.isShowPlay=!1}}},c=r,l=(i("377c"),i("2877")),u=Object(l["a"])(c,o,a,!1,null,"41c09f06",null),d=u.exports,f={name:"songList",components:{songListItem:d},props:{songList:{type:Array,default:function(){return[]}}}},h=f,g=(i("edf6"),Object(l["a"])(h,e,n,!1,null,"1b8326d8",null));t["a"]=g.exports},d982:function(s,t,i){},db55:function(s,t,i){},edf6:function(s,t,i){"use strict";i("d982")},f8c2:function(s,t,i){"use strict";i.r(t);var e=function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{staticClass:"w",attrs:{id:"user-detail"}},[s.$store.state.login.isLogin?i("div",{staticClass:"logined"},[i("div",{staticClass:"top-userinfo"},[i("div",{staticClass:"left-avatar"},[i("img",{attrs:{src:s.currentUserInfo.avatarUrl,alt:""}})]),i("div",{staticClass:"right-info"},[i("div",{staticClass:"row1"},[i("div",{staticClass:"uname"},[i("h2",[s._v(s._s(s.currentUserInfo.nickname))]),i("div",{staticClass:"gender"},[1==s.currentUserInfo.gender?i("span",{staticClass:"iconfont icon-nan"}):2==s.currentUserInfo.gender?i("span",{staticClass:"iconfont icon-nv"}):s._e()]),i("el-tag",{attrs:{size:"small",effect:"light"}},[s._v("Lv:"+s._s(s.currentUserInfo.level))])],1),s.uid!=s.$store.state.login.userInfo.userId?i("el-button",{staticClass:"subuser",attrs:{size:"small",icon:s.isSub?"el-icon-check":"el-icon-plus",type:s.isSub?"primary":"default"},on:{click:s.subUserBy}},[s._v(s._s(s.isSub?"已关注":"关注"))]):s._e()],1),s.currentUserInfo.identify?i("div",{staticClass:"singer"},[i("span",[i("img",{attrs:{src:s.currentUserInfo.identify.imageUrl,alt:""}})]),i("i",[s._v(s._s(s.currentUserInfo.identify.imageDesc))])]):s._e(),i("div",{staticClass:"my-data"},[i("div",{staticClass:"data-info"},[i("div",{staticClass:"data-num"},[i("div",{staticClass:"num-item",staticStyle:{"padding-left":"0"}},[i("h2",[s._v(s._s(s.currentUserInfo.eventCount))]),i("div",[s._v("动态")])]),i("div",{staticClass:"num-item",staticStyle:{"border-right":"solid 1px #dddddd","border-left":"solid 1px #dddddd"},on:{click:s.toFollows}},[i("h2",[s._v(s._s(s.currentUserInfo.follows))]),i("div",[s._v("关注")])]),i("div",{staticClass:"num-item",on:{click:s.toFansList}},[i("h2",[s._v(s._s(s._f("formatNum")(s.currentUserInfo.followeds)))]),i("div",[s._v("粉丝")])])]),i("div",{staticClass:"base-info"},[i("div",[s._v(" 用户ID："),i("span",[s._v(s._s(s.uid))])]),i("div",[s._v(" 个人介绍："),i("span",[s._v(s._s(""==s.currentUserInfo.signature?"暂无介绍":s.currentUserInfo.signature))])])])]),i("div",{staticClass:"my-record",on:{click:s.toRecord}},[i("div",{staticClass:"iconfont icon-paixingbang"}),i("div",[s._v("听歌排行")])])])])]),0!==s.createdSongList.length?i("div",{staticClass:"mycreat"},[i("el-divider",{attrs:{"content-position":"left"}},[i("h2",[i("span",[s._v(s._s(s.currentUserInfo.nickname))]),s._v("创建的歌单("+s._s(s.createdSongList.length)+") ")])]),i("SongList",{attrs:{songList:s.createdSongList}})],1):s._e(),0!==s.collectSongList.length?i("div",{staticClass:"mycollect"},[i("el-divider",{attrs:{"content-position":"left"}},[i("h2",[i("span",[s._v(s._s(s.currentUserInfo.nickname))]),s._v("收藏的歌单("+s._s(s.collectSongList.length)+") ")])]),i("SongList",{attrs:{songList:s.collectSongList}})],1):s._e()]):i("div",{staticClass:"nologin"},[i("el-empty",{attrs:{description:"登录后才能查看","image-size":200}})],1)])},n=[],o=i("5530"),a=(i("c740"),i("fb6a"),i("aba5")),r=i("2f62"),c=i("cee4b"),l={inject:["reload"],name:"UserDetail",components:{SongList:c["a"]},data:function(){return{uid:null,currentUserInfo:{},userSongList:[],collectSongList:[],createdSongList:[],isSub:!1}},computed:Object(o["a"])({},Object(r["b"])("login",["userFollowsList","userInfo","isLogin"])),created:function(){this.$store.state.login.isLogin?(this.uid=this.$route.params.uid,this.getUserDetailBy(),this.getUserSonglistBy(),0!==this.userFollowsList.length?this.isSubUser():this.getLoginUserFollows()):this.$message({type:"warning",message:"登录后才能查看",showClose:!0,center:!0})},methods:{getUserDetailBy:function(){var s=this;Object(a["a"])(this.uid).then((function(t){t.data.profile.level=t.data.level,t.data.identify&&(t.data.profile.identify=t.data.identify),s.currentUserInfo=t.data.profile}))},getUserSonglistBy:function(){var s=this;Object(a["c"])(this.uid).then((function(t){s.userSongList=t.data.playlist;var i=s.userSongList.findIndex((function(t){return t.creator.userId!=s.uid}));s.createdSongList=s.userSongList.slice(0,i),s.collectSongList=s.userSongList.slice(i)}))},toFollows:function(){this.$router.push({name:"Follows",params:{uid:this.uid,uname:this.currentUserInfo.nickname,follows:this.currentUserInfo.follows}})},toFansList:function(){this.$router.push({name:"FansList",params:{uid:this.uid,uname:this.currentUserInfo.nickname}})},toRecord:function(){this.$router.push("/userdetail/record/"+this.uid)},getLoginUserFollows:function(){var s=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=1e3,e=(t-1)*i;Object(a["b"])(this.userInfo.userId,e,i).then((function(t){s.$store.dispatch("login/saveUserFollowsList",t.data.follow),s.isSubUser()}))},isSubUser:function(){var s=this,t=this.userFollowsList.findIndex((function(t){return t.userId==s.uid}));this.isSub=-1!=t},subUserBy:function(){var s=this,t=this.isSub?2:1;Object(a["d"])(t,this.uid).then((function(i){200==i.data.code&&(s.getLoginUserFollows(),1==t?s.$message({type:"success",message:"关注成功",center:!0}):s.$message({type:"success",message:"已取消关注",center:!0}))})).catch((function(t){return s.$message.warning("操作失败,请重试")}))}},watch:{$route:function(s,t){s!==t&&this.reload()}}},u=l,d=(i("297c"),i("2877")),f=Object(d["a"])(u,e,n,!1,null,"4b6a53f5",null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-1a4f0092.f5d493e3.js.map