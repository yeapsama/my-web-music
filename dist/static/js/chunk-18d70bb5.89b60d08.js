(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18d70bb5"],{"01c0":function(t,e,s){},"20c6":function(t,e,s){},"3a0e":function(e,s,n){"use strict";n.r(s);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w",attrs:{id:"song-list-detail"}},[s("Topdesc",{attrs:{playlist:t.playlist,"is-sub":t.isSub},on:{playAllSong:t.playAllSong,subSongListBy:t.subSongListBy}}),0!==Object.keys(t.playlist).length?s("div",{staticClass:"bot-song-list"},[s("el-tabs",[s("el-tab-pane",{attrs:{label:"歌曲列表"}},[s("SongTable",{attrs:{songs:t.songList,currentPageNum:t.currentPageNum},on:{updateSonglist:t.updateSonglist}}),s("Pagination",{attrs:{total:t.songs.length,"page-size":48},on:{handleCurrentChange:t.clickChangePage}})],1),s("el-tab-pane",{attrs:{label:"评论"}},[s("CommentPage",{attrs:{"comment-type":2,"commentres-id":t.id},on:{changePage:t.changePage}})],1),s("el-tab-pane",{attrs:{label:"收藏者"}},[s("Subscribers",{attrs:{subscribers:t.subscribers,totalcount:t.totalcount},on:{handlePage:t.getSongListSubscribersBy}})],1)],1)],1):t._e()],1)},a=[],o=(n("d3b7"),n("159b"),n("fb6a"),n("86d1")),r=function(t){return Object(o["a"])({url:"/playlist/detail",params:{id:t,timestamp:Date.parse(new Date)}})},c=function(t){return Object(o["a"])({url:"/song/detail",params:{ids:t}})},l=function(t,e){return Object(o["a"])({url:"/playlist/subscribers",params:{id:t,offset:e,limit:48}})},u=n("8725"),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.playlist).length?s("div",{staticClass:"top-desc"},[s("div",{staticClass:"left-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.cover,expression:"cover"}],attrs:{alt:""}})]),s("div",{staticClass:"right-desc"},[s("div",{staticClass:"title"},[s("el-tag",{staticClass:"stag",attrs:{effect:"plain"}},[t._v("歌单")]),s("h2",[t._v(t._s(t.playlist.name))])],1),s("div",{staticClass:"creator-info"},[s("div",{staticClass:"avatar",on:{click:t.toUserDetail}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.playlist.creator.avatarUrl+"?param=80y80",expression:"playlist.creator.avatarUrl + '?param=80y80'"}],attrs:{alt:""}})]),s("div",{staticClass:"uname",on:{click:t.toUserDetail}},[s("span",[t._v(t._s(t.playlist.creator.nickname))])]),s("div",{staticClass:"creat-time"},[t.playlist.createTime&&!t.playlist.ToplistType?s("p",[t._v("创建时间："+t._s(t._f("showDate")(t.playlist.createTime)))]):t._e(),t.playlist.ToplistType&&t.playlist.trackUpdateTime?s("p",[t._v("最近更新时间："+t._s(t._f("showDate")(t.playlist.trackUpdateTime)))]):t._e()])]),s("div",{staticClass:"operation"},[s("el-button",{attrs:{type:"primary",icon:"el-icon-video-play"},on:{click:t.playAll}},[t._v("播放全部")]),null==t.$store.state.userInfo||t.$store.state.userInfo.userId&&t.playlist.creator.userId!=t.$store.state.userInfo.userId?s("el-button",{attrs:{icon:t.isSub?"el-icon-folder-checked":"el-icon-folder-add",type:t.isSub?"primary":"default"},on:{click:t.subSongList}},[s("span",[t._v(t._s(t.isSub?"已收藏":"收藏"))])]):t._e(),s("el-button",{attrs:{icon:"el-icon-share"}},[t._v("分享("+t._s(t._f("formatNum")(t.playlist.shareCount))+")")])],1),0!==t.playlist.tags.length?s("div",{staticClass:"tags"},[s("span",[t._v("标签：")]),t._l(t.playlist.tags,(function(e,n){return s("span",{key:n,staticClass:"tags-item"},[s("el-tag",{attrs:{effect:"plain",size:"small"}},[t._v(t._s(e))])],1)}))],2):t._e(),s("div",{staticClass:"song-count"},[s("span",[t._v("歌曲："+t._s(t.playlist.trackIds.length)+"首")]),s("span",[t._v("播放："+t._s(t._f("formatNum")(t.playlist.playCount))+"次")])]),s("div",{staticClass:"desc-info"},[t.playlist.description?s("span",[t._v("简介："+t._s(t.playlist.description))]):s("span",[t._v("简介：暂无简介")])])])]):t._e()},d=[];n("ac1f"),n("00b4"),n("5319"),n("4d63"),n("c607"),n("2c3e"),n("25f0");function p(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var s={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var n in s)if(new RegExp("(".concat(n,")")).test(e)){var i=s[n]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?i:g(i))}return e}function g(t){return("00"+t).substr(t.length)}var h={name:"TopDesc",props:{playlist:{type:Object,default:function(){return{}}},isSub:{type:Boolean,default:function(){return!1}}},data:function(){return{}},computed:{cover:function(){return this.playlist.coverImgUrl+"?param=200y200"}},filters:{showDate:function(t){var e=new Date(t);return p(e,"yyyy-MM-dd")}},methods:{playAll:function(){this.$emit("playAllSong")},subSongList:function(){this.$store.state.isLogin?this.$emit("subSongListBy"):this.$message({type:"warning",message:"登录后才能收藏",showClose:!0,center:!0})},toUserDetail:function(){this.$router.push("/userdetail/"+this.playlist.creator.userId)}}},f=h,y=(n("b0b9"),n("2877")),b=Object(y["a"])(f,m,d,!1,null,"97d51842",null),v=b.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment"},[s("div",{staticClass:"textinput"},[s("el-input",{ref:"commentContent",attrs:{type:"textarea",rows:"3",maxlength:"100","show-word-limit":"",placeholder:t.placeholder},on:{blur:t.textareaBlur},model:{value:t.content,callback:function(e){t.content="string"===typeof e?e.trim():e},expression:"content"}}),s("el-button",{staticClass:"el-btn",attrs:{round:"",type:"primary",size:"small",icon:"el-icon-position"},on:{click:t.submitComment}},[t._v("发送评论")])],1),s("div",{ref:"commentlist",staticClass:"comment-list"},[s("h2",[t._v(t._s(3===t.sortType?"最新评论":"热门评论")+"("+t._s(t._f("formatNum")(t.commentCount))+")")]),s("div",{staticClass:"sort-category"},t._l(t.sortCategory,(function(e,n){return s("span",{key:n,class:{active:t.currentIndex===n},on:{click:function(s){return t.changeSort(e.sortType,n)}}},[t._v(t._s(e.title))])})),0),0!==t.commentsList.length?s("div",{staticClass:"new-comment"},[t._l(t.commentsList,(function(e,n){return s("CommentItem",{key:n,attrs:{item:e,commentType:t.commentType,commentresId:t.commentresId},on:{toUserDetail:t.toUserDetail,getReplyComment:t.getReplyComment}})})),s("Pagination",{attrs:{total:t.commentCount,"page-size":60,"current-page":t.currentPage,"scroll-top":!1},on:{handleCurrentChange:t.handleCurrentChange}})],2):s("div",{staticClass:"nocomment"},[s("el-empty",{attrs:{description:"没有更多了","image-size":200}})],1)])])},_=[],w=(n("a9e3"),n("498a"),function(t,e,s){return Object(o["a"])({url:"/comment/hot",params:{type:t,id:e,offset:s,limit:60,timestamp:Date.parse(new Date)}})}),S=function(t,e,s){return Object(o["a"])({url:"/comment/".concat(t),params:{id:e,offset:s,limit:60,timestamp:Date.parse(new Date)}})},k=function(t,e,s){return Object(o["a"])({url:"/comment/new",params:{type:t,id:e,pageNo:s,sortType:2,pageSize:60,timestamp:Date.parse(new Date)}})},$=function(t,e,s){return Object(o["a"])({url:"/comment",params:{t:1,type:t,id:e,content:s,timestamp:Date.parse(new Date)}})},I=function(t,e,s,n){return Object(o["a"])({url:"/comment",params:{t:2,type:t,id:e,content:s,commentId:n,timestamp:Date.parse(new Date)}})},D=function(e,s,n){return Object(o["a"])({url:"/comment/like",params:{id:e,type:s,cid:n,t:t,timestamp:Date.parse(new Date)}})},L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"coment-item"},[s("div",{staticClass:"base-info"},[s("div",{staticClass:"avatar",on:{click:function(e){return t.toUserDetail(t.item.user.userId)}}},[s("img",{attrs:{src:t.item.user.avatarUrl,alt:""}})]),s("div",{staticClass:"right-info"},[s("div",{staticClass:"content"},[s("span",{on:{click:function(e){return t.toUserDetail(t.item.user.userId)}}},[t._v(t._s(t.item.user.nickname)+":")]),t._v(" "+t._s(t.item.content)+" ")]),null!=t.item.beReplied&&0!=t.item.beReplied.length?s("div",{staticClass:"be-replied"},t._l(t.item.beReplied,(function(e,n){return s("div",{key:n},[s("span",{on:{click:function(s){return t.toUserDetail(e.user.userId)}}},[t._v("@"+t._s(e.user.nickname)+":")]),t._v(t._s(e.content)+" ")])})),0):t._e(),s("div",{staticClass:"coment-time"},[t._v(" "+t._s(t._f("showDate")(t.item.time))+" ")])])]),s("div",{staticClass:"like"},[s("span",{staticClass:"iconfont icon-dianzan",class:{isLike:t.item.liked},on:{click:function(e){return t.isLikeCommentBy(t.item)}}},[t._v(t._s(t._f("formatNum")(t.item.likedCount)))]),s("span",{staticClass:"iconfont icon-comment",on:{click:function(e){return t.replyComment(t.item)}}})])])},T=[],x={name:"CommentItem",props:{item:{type:Object,default:function(){return{}}},commentType:{type:Number},commentresId:{type:[Number,String]}},filters:{showDate:function(t){var e=new Date(t);return p(e,"yyyy-MM-dd   hh:mm:ss")}},data:function(){return{}},methods:{toUserDetail:function(t){this.$router.push("/userdetail/"+t),this.$emit("toUserDetail")},replyComment:function(t){var e={};e.commentId=t.commentId,e.uname=t.user.nickname,this.$emit("getReplyComment",e)},isLikeCommentBy:function(t){var e=this;if(this.$store.state.isLogin){var s=this.item.liked?0:1;D(this.commentresId,this.commentType,s,t.commentId).then((function(t){200===t.data.code?0==s?(e.$message({type:"success",message:"已取消点赞",center:!0}),e.item.likedCount=e.item.likedCount-1,e.item.liked=!e.item.liked):(e.$message({type:"success",message:"点赞成功",center:!0}),e.item.likedCount=e.item.likedCount+1,e.item.liked=!e.item.liked):e.$message.error("点赞失败,请稍后重试!")})).catch((function(t){e.$message.error("点赞失败,请稍后重试!")}))}else this.$message({type:"warning",message:"登录后才能点赞",showClose:!0,center:!0})}}},P=x,N=(n("c29a"),Object(y["a"])(P,L,T,!1,null,"3ecfb112",null)),U=N.exports,j=n("d529"),O={name:"CommentPage",components:{CommentItem:U,Pagination:j["a"]},props:{commentType:{type:Number},commentresId:{type:[Number,String]}},data:function(){return{placeholder:"请输入内容",content:"",commentsList:[],commentCount:0,sortType:3,sortCategory:[{title:"按时间排序",sortType:3},{title:"按热度排序",sortType:2}],currentIndex:0,currentPage:1,submitType:1,replyId:"",replyUname:""}},created:function(){this.getNewCommentBy()},watch:{commentresId:function(){this.getNewCommentBy(),this.sortType=3,this.currentIndex=0,this.content="",this.currentPage=1}},methods:{getHotCommentBy:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=60*(e-1);w(this.commentType,this.commentresId,s).then((function(s){0!=s.data.total?(t.commentsList=s.data.hotComments,t.commentCount=s.data.total):k(t.commentType,t.commentresId,e).then((function(e){t.commentsList=e.data.data.comments||[],t.commentCount=e.data.data.totalCount}))}))},getNewCommentBy:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s="";switch(this.commentType){case 0:s="music";break;case 1:s="mv";break;case 2:s="playlist";break;case 3:s="album";break;case 5:s="video";break}var n=60*(e-1);S(s,this.commentresId,n).then((function(e){t.commentsList=e.data.comments,t.commentCount=e.data.total}))},changeSort:function(t,e){this.currentIndex=e,this.sortType=t,this.currentPage=1,3===t?this.getNewCommentBy():this.getHotCommentBy()},handleCurrentChange:function(t){3===this.sortType?this.getNewCommentBy(t):this.getHotCommentBy(t),this.currentPage=t,this.$emit("changePage")},toUserDetail:function(){this.$emit("toUserDetail")},sendCommentBy:function(){var t=this;$(this.commentType,this.commentresId,this.content).then((function(e){200===e.data.code?(t.content="",setTimeout((function(){t.changeSort(3,0)}),1e3),t.$message({type:"success",message:"评论成功",center:!0})):t.$message.error("评论失败,请刷新后重试!")})).catch((function(e){t.$message.error("评论失败,请刷新后重试!")}))},getReplyComment:function(t){this.replyId=t.commentId,this.replyUname=t.uname,this.$emit("changePage"),this.placeholder="回复".concat(t.uname,"："),this.$refs.commentContent.focus(),this.submitType=2},replyCommentBy:function(){var t=this;I(this.commentType,this.commentresId,this.content,this.replyId).then((function(e){200===e.data.code?(t.content="",t.placeholder="请输入内容",t.submitType=1,setTimeout((function(){t.changeSort(3,0)}),1e3),t.$message({type:"success",message:"回复成功",center:!0})):t.$message.error("回复失败,请重试!")})).catch((function(e){t.$message.error("回复失败,请稍后重试!")}))},submitComment:function(){this.$store.state.isLogin?""!==this.content.trim()?1===this.submitType?this.sendCommentBy():this.replyCommentBy():this.$message({type:"warning",message:"评论失败，内容不能为空",showClose:!0,center:!0}):this.$message({type:"warning",message:"登录后才能评论",showClose:!0,center:!0})},textareaBlur:function(){""===this.content.trim()&&(this.placeholder="请输入内容",this.submitType=1)}}},B=O,z=(n("e4fe"),Object(y["a"])(B,C,_,!1,null,"76afb786",null)),E=z.exports,A=n("40a1"),R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"subscribers"},[0!==t.subscribers.length?s("UserList",{attrs:{userlist:t.subscribers}}):t._e(),s("Pagination",{attrs:{total:t.totalcount,"page-size":48},on:{handleCurrentChange:t.handleCurrentChange}}),0==t.subscribers.length?s("div",{staticClass:"no"},[s("el-empty",{attrs:{description:"暂无收藏者","image-size":200}})],1):t._e()],1)},M=[],q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-list"},t._l(t.userlist,(function(t,e){return s("UserListItem",{key:e,attrs:{userlistitem:t}})})),1)},H=[],J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-list-item",on:{click:t.toUserDetail}},[s("div",{staticClass:"left-avatar"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.userlistitem.avatarUrl+"?param=80y80",expression:"userlistitem.avatarUrl + '?param=80y80'"}],attrs:{alt:""}})]),s("div",{staticClass:"right-uname"},[s("p",{staticClass:"uname"},[t._v(t._s(t.userlistitem.nickname))]),s("p",{staticClass:"by"},[t._v(" "+t._s(" "==t.userlistitem.signature?"":t.userlistitem.signature)+" ")]),t.userlistitem.playlistCount?s("p",{staticClass:"info"},[s("span",[t._v("歌单:"+t._s(t.userlistitem.playlistCount))]),s("span",[t._v("粉丝:"+t._s(t.userlistitem.followeds))])]):t._e()])])},F=[],V={name:"UserListItem",props:{userlistitem:{type:Object,default:function(){return{}}}},methods:{toUserDetail:function(){this.$router.push("/userdetail/"+this.userlistitem.userId)}}},Y=V,G=(n("3b87"),Object(y["a"])(Y,J,F,!1,null,"ddac5b84",null)),K=G.exports,Q={name:"UserList",components:{UserListItem:K},props:{userlist:{type:Array,default:function(){return[]}}}},W=Q,X=(n("f927"),Object(y["a"])(W,q,H,!1,null,"66afedbf",null)),Z=X.exports,tt={name:"Subscribers",components:{UserList:Z,Pagination:j["a"]},props:{subscribers:{type:Array,default:function(){return[]}},totalcount:{type:Number,default:0}},methods:{toUserDetail:function(t){this.$router.push("/userdetail/"+t)},handleCurrentChange:function(t){this.$emit("handlePage",t)}}},et=tt,st=(n("4cbc"),Object(y["a"])(et,R,M,!1,null,"406a00ae",null)),nt=st.exports,it={inject:["reload"],name:"Songlistdetail",components:{Topdesc:v,CommentPage:E,SongTable:A["a"],Subscribers:nt,Pagination:j["a"]},data:function(){return{id:"",playlist:{},songids:"",songs:[],songList:[],currentPageNum:0,subscribers:[],totalcount:0,isSub:!1}},computed:{},created:function(){this.id=this.$route.params.id,this.getSongListDetailBy(),this.getSongListSubscribersBy(),this.isSubSongList()},methods:{getSongListDetailBy:function(){var t=this;r(this.id).then((function(e){console.log(e.data),t.playlist=e.data.playlist,t.playlist.trackIds.length>1e3?t.playlist.trackIds.slice(0,500).forEach((function(e){t.songids+=e.id+","})):t.playlist.trackIds.forEach((function(e){t.songids+=e.id+","}));var s=t.songids.substr(0,t.songids.length-1);c(s).then((function(e){200==e.data.code&&(t.songs=e.data.songs,t.clickChangePage())}))}))},clickChangePage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=48*(t-1);this.songs.length<=48?this.songList=this.songs:1==t?this.songList=this.songs.slice(1,49):e+48>this.songs.length?this.songList=this.songs.slice(e):this.songList=this.songs.slice(e,e+48),this.currentPageNum=t},getSongListSubscribersBy:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=48*(e-1);l(this.id,s).then((function(e){t.subscribers=e.data.subscribers,t.totalcount=e.data.total}))},changePage:function(){var t=document.querySelector(".view");t.scrollTo({top:300})},playAllSong:function(){var t=this;this.$store.dispatch("addAllSong",this.songs),Object(u["e"])(this.songs[0].id).then((function(e){t.$store.dispatch("saveSongUrl",e.data.data[0].url),t.$store.dispatch("changePlayState",!0)})),this.$store.dispatch("saveSongDetail",this.songs[0])},isSubSongList:function(){},subSongListBy:function(){},updateSonglist:function(){var t=this;this.getSongListDetailBy(),setTimeout((function(){t.reload()}),1e3)}},watch:{$route:function(t,e){t!==e&&this.reload()}}},at=it,ot=Object(y["a"])(at,i,a,!1,null,"3b76c964",null);s["default"]=ot.exports},"3b87":function(t,e,s){"use strict";s("20c6")},"40a1":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"song-table"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.songs,"empty-text":"数据加载中~","row-class-name":t.tableRowClassName},on:{"row-dblclick":t.playMusic}},[s("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id==t.nowSongDetail.id?s("span",{staticClass:"iconfont",class:t.isPlaying?" icon-voice":"icon-jingyin_laba"}):s("span",[t._v(t._s(t._f("formatIndex")(t.pageIndex(e.row.index))))])]}}])}),s("el-table-column",{attrs:{width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"operation"},[s("span",{class:-1!==t.likeSongIds.indexOf(e.row.id)?"iconfont icon-xihuan2":"iconfont icon-xihuan",on:{click:function(s){return t.likeSong(e.row)}}}),s("span",{staticClass:"iconfont icon-xiazai",attrs:{title:"下载"}}),s("span",{staticClass:"el-icon-plus",attrs:{title:"添加到播放列表"},on:{click:function(s){return t.addSong(e.row)}}})])]}}])}),s("el-table-column",{attrs:{prop:"name",label:"歌曲",width:"300","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"songname"},[t._v(" "+t._s(e.row.name)+" "),1==e.row.fee?s("i",{staticClass:"iconfont icon-vip"}):t._e(),0!=e.row.mv?s("i",{staticClass:"iconfont icon-mv",on:{click:function(s){return t.toMvDetail(e.row.mv)}}}):t._e()])]}}])}),s("el-table-column",{attrs:{prop:"al.name",label:"专辑","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"sthover",on:{click:function(s){return t.toAlbum(e.row.al.id)}}},[t._v(" "+t._s(e.row.al.name)+" ")])]}}])}),s("el-table-column",{attrs:{prop:"ar[0].name",label:"歌手","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"sthover",on:{click:function(s){return t.toSinger(e.row.ar[0].id)}}},[t._v(" "+t._s(e.row.ar[0].name)+" ")])]}}])}),s("el-table-column",{attrs:{prop:"dt",label:"时长"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(" "+t._s(t._f("formatDuration")(e.row.dt))+" ")])]}}])})],1)],1)},i=[],a=s("5530"),o=(s("a9e3"),s("8725")),r=s("2f62"),c={name:"SongTable",props:{songs:{type:Array,default:function(){return[]}},songList:{type:Array,default:function(){return[]}},currentPageNum:{type:Number,default:function(){return-2}}},data:function(){return{islike:!1,currentIndex:null,pageNum:0}},created:function(){this.isLogin&&0===this.likeSongIds.length&&this.getUserLikSongs()},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(r["b"])(["isPlaying","nowSongDetail"])),Object(r["b"])("login",["isLogin","userInfo","userSongList","likeSongIds"])),{},{totalSongNum:function(){return this.songs.length}}),filters:{formatIndex:function(t){return t<9?"0"+(t+1):t+1}},methods:{playMusic:function(t){var e=this;Object(o["a"])(t.id).then((function(s){Object(o["e"])(t.id).then((function(t){e.$store.dispatch("saveSongUrl",t.data.data[0].url)})),e.$store.dispatch("changePlayState",!0),e.$store.dispatch("saveSongDetail",t),e.$store.dispatch("addPlayinglist",t)})).catch((function(t){e.$message({message:"暂时无法播放，换首试试",type:"warning",center:!0})}))},getUserLikSongs:function(){var t=this;Object(o["c"])(this.userInfo.userId).then((function(e){Array.isArray(e.data.ids)&&0!=e.data.ids.length&&t.$store.dispatch("login/saveLikeSongIds",e.data.ids)}))},likeSong:function(t){var e=this;if(this.$store.state.login.isLogin){var s=-1===this.likeSongIds.indexOf(t.id);this.userSongList[0].id!=this.$route.params.id?this.likeNowSongBy(t,s):this.$confirm("确定将选中歌曲从我喜欢的音乐中删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",confirmButtonClass:""}).then((function(){e.likeNowSongBy(t,s),e.$emit("updateSonglist")})).catch((function(t){}))}else this.$message({type:"warning",message:"登录后才能收藏",showClose:!0,center:!0})},likeNowSongBy:function(t,e){var s=this;Object(o["f"])(t.id,e).then((function(t){s.getUserLikSongs(),!0===e?(s.$message({message:"已添加到我喜欢的音乐",type:"success",center:!0}),s.islike=!0):(s.$message({message:"取消喜欢成功",type:"success",center:!0}),s.islike=!1)})).catch((function(t){s.$message.warning("操作失败,请重试")}))},addSong:function(t){this.$store.dispatch("addPlayinglist",t),this.$message({message:"已添加到播放列表",type:"success",center:!0})},toSinger:function(t){this.$router.push("/singerdetail/"+t)},toAlbum:function(t){this.$router.push("/albumdetail/"+t)},toMvDetail:function(t){this.$router.push({name:"VideoDetail",params:{id:t,type:"mv"}})},tableRowClassName:function(t){var e=t.row,s=t.rowIndex;if(e.index=s,s%2!==0)return"rowEven"},pageIndex:function(t){return-2===this.currentPageNum?t:48*(this.currentPageNum-1)+t}}},l=c,u=(s("9ddd"),s("2877")),m=Object(u["a"])(l,n,i,!1,null,"0ca9f2e5",null);e["a"]=m.exports},"4cbc":function(t,e,s){"use strict";s("5c70")},"5c70":function(t,e,s){},6137:function(t,e,s){},"9ddd":function(t,e,s){"use strict";s("6137")},b0b9:function(t,e,s){"use strict";s("f48d")},c1ef:function(t,e,s){},c29a:function(t,e,s){"use strict";s("ceac")},ceac:function(t,e,s){},d529:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page"},[s("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>t.pageSize,expression:"total > pageSize"}],attrs:{background:"","page-size":t.pageSize,layout:t.layout,total:t.total,"current-page":t.currentPage},on:{"current-change":t.handleCurrentChange}})],1)},i=[],a=(s("a9e3"),{name:"Pagination",props:{total:{required:!0,type:Number},pageSize:{required:!0,type:Number},currentPage:{type:Number,default:1},scrollTop:{type:Boolean,default:!0},layout:{type:String,default:"total, prev, pager, next"}},methods:{handleCurrentChange:function(t){if(this.$emit("handleCurrentChange",t),this.scrollTop){var e=document.querySelector(".view");e.scrollTop=0}}}}),o=a,r=s("2877"),c=Object(r["a"])(o,n,i,!1,null,"73995679",null);e["a"]=c.exports},e4fe:function(t,e,s){"use strict";s("c1ef")},f48d:function(t,e,s){},f927:function(t,e,s){"use strict";s("01c0")}}]);
//# sourceMappingURL=chunk-18d70bb5.89b60d08.js.map